$func1
	// setup
	addi sp sp 16
	add t0 zero sp
	sw t0 ra
	addi t0 t0 1
	sw t0 s0
	addi t0 t0 1
	sw t0 s1
	addi t0 t0 1
	sw t0 s2

	jal $func2
	li s0 1
	li s1 1
	li s2 1

	// cleanup
	add t0 zero sp
	lw ra t0
	addi t0 t0 1
	lw s0 t0
	addi t0 t0 1
	lw s1 t0
	addi t0 t0 1
	lw s2 t0

	addi sp sp -16
	ret 

$func2
	add a0 a0 a0
	ret

$main
	li a0 1
	li a1 1
	jal $func1